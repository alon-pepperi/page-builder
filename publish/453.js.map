{"version":3,"sources":["./src/app/components/addon/addon.component.html","./src/app/components/addon/addon.component.ts","./src/app/components/addon/addon.module.ts","./src/app/components/addon/addon.service.ts","./src/app/components/pepperi-table/pepperi-table.component.ts","./src/app/components/pepperi-table/pepperi-table.module.ts","./node_modules/moment/locale|sync|/^/.*$"],"names":["hostEvents","AddonComponent","addonService","layoutService","dialog","translate","options","displayedColumns","EventEmitter","this","onResize$","subscribe","size","screenSize","dataSource$","pepGet","pipe","addons","filter","addon","Addon","map","content","instant","title","dataMsg","actionsType","openDefaultDialog","createTranslateLoader","http","fileService","translationsPath","getAssetsTranslationsPath","translationsSuffix","getAssetsTranslationsSuffix","addonStaticFolder","getAddonStaticFolder","prefix","length","suffix","AddonModule","userLang","setDefaultLang","getBrowserLang","split","location","href","indexOf","use","res","CommonModule","loader","provide","useFactory","deps","isolate","AddonService","session","pepperiDataConverter","pepHttp","accessToken","papiBaseURL","getIdpToken","parsedToken","PapiClient","baseURL","token","addonUUID","suppressLogging","endpoint","papiClient","get","body","post","getPapiApiCall","postPapiApiCall","PepperiTableComponent","dataConvertorService","dataSource","customizeTable","listChanged","sortingChanged","fieldClicked","selectedItemsChanged","changes","currentValue","initPepList","customizeFn","customList","tableData","Array","forEach","row","push","convertObjectToPepRowData","uiControl","getUiControl","rows","convertListData","initListData","object","Fields","Object","keys","key","initDataRowField","dataRowField","ApiName","Title","XAlignment","FormattedValue","toString","Value","ColumnWidth","AdditionalValue","OptionalValues","FieldType","getSelectedItemsData","id","getItemDataByID","PepperiTableModule","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","resolve","module","exports"],"mappings":"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","file":"453.js","sourcesContent":["<div class=\"ng-component-container\" *ngIf=\"(dataSource$ | async) as installedAddons\">\n\n<mat-card>\n\n        <pep-top-bar [inline]=\"true\" [title]=\"('Title_Sub_Addon' | translate)\">\n            <div header-end-content>\n                <pep-button [value]=\"'Open_Dialog' | translate\" [sizeType]=\"'sm'\" [styleType]=\"'strong'\" (buttonClick)=\"openDialog();\">\n                </pep-button>\n            </div>\n        </pep-top-bar>\n        <div class=\"table-content\">\n            <pep-table [displayedColumns]=\"displayedColumns\" [dataSource]=\"(dataSource$ | async)\"></pep-table>\n        </div>\n        <br>\n        <div>\n            <pep-select #pepSelect [value]=\"'Option 1'\"[options]=\"options\" [label]=\"'Select_Label' | translate \"\n            ></pep-select>\n            <pep-button *ngIf=\"hostObject\" [value]=\"'Close' | translate\" [sizeType]=\"'md'\" [styleType]=\"'strong'\" (buttonClick)=\"hostEvents.emit({action: 'close-dialog'});\">\n            </pep-button>\n        </div>\n\n\n\n</mat-card>\n</div>\n\n\n","import { PepDialogData, PepDialogService } from '@pepperi-addons/ngx-lib/dialog';\nimport {  map } from 'rxjs/operators';\nimport { TranslatePipe, TranslateService } from '@ngx-translate/core';\nimport { Component, EventEmitter, Input, OnInit, Output, ViewChild } from \"@angular/core\";\nimport { PepLayoutService, PepScreenSizeType } from '@pepperi-addons/ngx-lib';\nimport { AddonService,  } from './index';\nimport { Observable } from 'rxjs';\nimport { InstalledAddon } from '@pepperi-addons/papi-sdk';\n\n\n@Component({\n  selector: 'addon-module',\n  templateUrl: './addon.component.html',\n  styleUrls: ['./addon.component.scss'],\n  providers: [TranslatePipe]\n})\nexport class AddonComponent implements OnInit {\n\n    screenSize: PepScreenSizeType;\n    options: {key:string, value:string}[] = [];\n    dataSource$: Observable<any[]>\n    displayedColumns = ['Name', 'Description'];\n    @Input() hostObject: any;\n    @Output() hostEvents: EventEmitter<any> = new EventEmitter<any>();\n\n\n    constructor(\n        public addonService: AddonService,\n        public layoutService: PepLayoutService,\n        public dialog: PepDialogService,\n        public translate: TranslateService\n    ) {\n\n        this.layoutService.onResize$.subscribe(size => {\n            this.screenSize = size;\n        });\n\n    }\n\n    ngOnInit(){\n       this.dataSource$ = this.addonService.pepGet(`/addons/installed_addons`)\n       .pipe(\n           map((addons: InstalledAddon[]) =>\n             addons.filter(addon => addon?.Addon).map(addon => addon?.Addon))\n        );\n    }\n\n    openDialog(){\n        const content = this.translate.instant('Dialog_Body');\n        const title = this.translate.instant('Dialog_Title');\n        const dataMsg = new PepDialogData({title, actionsType: \"close\", content});\n        this.dialog.openDefaultDialog(dataMsg);\n    }\n\n\n\n\n\n}\n","import { MatCardModule } from '@angular/material/card';\nimport { AddonService } from './addon.service';\nimport { PepTopBarModule } from '@pepperi-addons/ngx-lib/top-bar';\n// import { RouterModule, Routes } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { MultiTranslateHttpLoader } from 'ngx-translate-multi-http-loader';\nimport { PepSelectModule } from '@pepperi-addons/ngx-lib/select';\nimport { PepButtonModule } from '@pepperi-addons/ngx-lib/button';\nimport { PepHttpService, PepFileService, PepNgxLibModule, PepAddonService, PepCustomizationService } from '@pepperi-addons/ngx-lib';\nimport { AddonComponent } from './index';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { PepDialogService } from '@pepperi-addons/ngx-lib/dialog';\nimport { PepperiTableModule } from '../pepperi-table/index';\nimport { TranslateLoader, TranslateModule, TranslateService, TranslateStore } from '@ngx-translate/core';\n\nexport function createTranslateLoader(http: HttpClient, fileService: PepFileService, addonService: PepAddonService) {\n    const translationsPath: string = fileService.getAssetsTranslationsPath();\n    const translationsSuffix: string = fileService.getAssetsTranslationsSuffix();\n    const addonStaticFolder = addonService.getAddonStaticFolder();\n\n    return new MultiTranslateHttpLoader(http, [\n        {\n            prefix:\n                addonStaticFolder.length > 0\n                    ? addonStaticFolder + translationsPath\n                    : translationsPath,\n            suffix: translationsSuffix,\n        },\n        {\n            prefix:\n                addonStaticFolder.length > 0\n                    ? addonStaticFolder + \"assets/i18n/\"\n                    : \"/assets/i18n/\",\n            suffix: \".json\",\n        },\n    ]);\n}\n\n@NgModule({\n    declarations: [\n        AddonComponent\n    ],\n    imports: [\n        CommonModule,\n        HttpClientModule,\n        MatDialogModule,\n        MatCardModule,\n        //// When not using module as sub-addon please remark this for not loading twice resources\n        TranslateModule.forChild({\n            loader: {\n                provide: TranslateLoader,\n                useFactory: createTranslateLoader,\n                deps: [HttpClient, PepFileService, PepAddonService]\n            }, isolate: false\n        }),\n        //// Example for importing tree-shakeable @pepperi-addons/ngx-lib components to a module\n        PepNgxLibModule,\n        PepButtonModule,\n        PepSelectModule,\n        PepTopBarModule,\n        PepperiTableModule\n\n\n    ],\n    exports:[AddonComponent],\n    providers: [\n        AddonService,\n        HttpClient,\n        TranslateStore,\n        PepHttpService,\n        PepAddonService,\n        PepFileService,\n        PepCustomizationService,\n        PepDialogService\n    ]\n})\nexport class AddonModule {\n    constructor(\n          translate: TranslateService\n      ) {\n\n        let userLang = 'en';\n        translate.setDefaultLang(userLang);\n        userLang = translate.getBrowserLang().split('-')[0]; // use navigator lang if available\n\n        if (location.href.indexOf('userLang=en') > -1) {\n            userLang = 'en';\n        }\n        // the lang to use, if the lang isn't available, it will use the current loader to get them\n        translate.use(userLang).subscribe((res: any) => {\n            // In here you can put the code you want. At this point the lang will be loaded\n        });\n    }\n}\n","import { Observable } from 'rxjs';\nimport jwt from 'jwt-decode';\nimport { PapiClient } from '@pepperi-addons/papi-sdk';\nimport { Injectable } from '@angular/core';\n\nimport {PepHttpService, PepDataConvertorService, PepSessionService} from '@pepperi-addons/ngx-lib';\n\n\n@Injectable({ providedIn: 'root' })\nexport class AddonService {\n\n    accessToken = '';\n    parsedToken: any\n    papiBaseURL = ''\n    addonUUID;\n\n    get papiClient(): PapiClient {\n        return new PapiClient({\n            baseURL: this.papiBaseURL,\n            token: this.session.getIdpToken(),\n            addonUUID: this.addonUUID,\n            suppressLogging:true\n        })\n    }\n\n    constructor(\n        public session:  PepSessionService\n        ,public pepperiDataConverter: PepDataConvertorService\n        ,private pepHttp: PepHttpService\n    ) {\n        const accessToken = this.session.getIdpToken();\n        this.parsedToken = jwt(accessToken);\n        this.papiBaseURL = this.parsedToken[\"pepperi.baseurl\"]\n    }\n\n    async get(endpoint: string): Promise<any> {\n        return await this.papiClient.get(endpoint);\n    }\n\n    async post(endpoint: string, body: any): Promise<any> {\n        return await this.papiClient.post(endpoint, body);\n    }\n\n    pepGet(endpoint: string): Observable<any> {\n        return this.pepHttp.getPapiApiCall(endpoint);\n    }\n\n    pepPost(endpoint: string, body: any): Observable<any> {\n        return this.pepHttp.postPapiApiCall(endpoint, body);\n\n    }\n\n}\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { PepDataConvertorService, FIELD_TYPE, PepFieldData, PepRowData } from '@pepperi-addons/ngx-lib';\nimport { PepListComponent } from '@pepperi-addons/ngx-lib/list';\n\n@Component({\n  selector: 'pep-table',\n  template: `<div class=\"list-container\" #listContainer>\n  <pep-list\n\n      [firstFieldAsLink]=\"false\"\n      [isReport]=\"true\"\n      [supportSorting]=\"false\"\n      [supportResizing]=\"false\"\n      [selectionTypeForActions]=\"'single'\"\n      [noDataFoundMsg]=\"'No data'\"\n      (listChange)=\"listChanged.emit($event)\"\n      (sortingChange)=\"sortingChanged.emit($event)\"\n      (fieldClick)=\"fieldClicked.emit($event)\"\n      (selectedItemsChange)=\"selectedItemsChanged.emit($event)\">\n  </pep-list>\n</div>`\n})\nexport class PepperiTableComponent implements OnInit, OnChanges {\n\n\n    @Input() dataSource = null;\n    @Input() displayedColumns = null;\n    @Input() customizeTable = null;\n\n    @ViewChild(PepListComponent) customList: PepListComponent;\n\n    @Output() listChanged: EventEmitter<any> = new EventEmitter();\n    @Output() sortingChanged: EventEmitter<any> = new EventEmitter();\n    @Output() fieldClicked: EventEmitter<any> = new EventEmitter();\n    @Output() selectedItemsChanged: EventEmitter<any> = new EventEmitter();\n\n    constructor(\n        private translate: TranslateService,\n        private dataConvertorService: PepDataConvertorService\n    ) {\n\n    }\n\n    ngOnInit() {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes?.dataSource?.currentValue){\n            this.initPepList(this.dataSource, this.displayedColumns, this.customizeTable);\n        }\n\n    }\n\n    initPepList(dataSource, displayedColumns = null, customizeFn = null) {\n        if (this.customList && dataSource) {\n            const tableData = new Array<PepRowData>();\n            dataSource.forEach((row: any) => tableData.push(this.convertObjectToPepRowData(row, displayedColumns, customizeFn)));\n            const uiControl = this.dataConvertorService.getUiControl(tableData[0]);\n            const rows = this.dataConvertorService.convertListData(tableData);\n            this.customList.initListData(uiControl, rows.length, rows, 'table', '', true);\n        }\n    }\n\n    convertObjectToPepRowData(object: any, displayedColumns = null, customizeFn = null) {\n        const row = new PepRowData();\n        row.Fields = [];\n        const keys = displayedColumns ? displayedColumns : Object.keys(object);\n        keys.forEach(key => row.Fields.push(this.initDataRowField(object, key, customizeFn)));\n        return row;\n    }\n\n    initDataRowField(object: any, key: any, customizeFn = null): PepFieldData {\n\n        const dataRowField: PepFieldData = {\n            ApiName: key,\n            Title: this.translate.instant(key),\n            XAlignment: 1,\n            FormattedValue: object[key] ? object[key].toString() : '',\n            Value:  object[key] ? object[key].toString() : '',\n            ColumnWidth: 10,\n            AdditionalValue: '',\n            OptionalValues: [],\n            FieldType: FIELD_TYPE.TextBox\n        };\n        if (customizeFn){\n            return customizeFn(object, key, dataRowField);\n        }\n        else {\n            return dataRowField;\n        }\n\n    }\n\n    getSelectedItemsData(){\n        return this.customList.getSelectedItemsData();\n    }\n\n    getItemDataByID(id: string){\n        return this.customList.getItemDataByID(id);\n    }\n\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { TranslateLoader, TranslateModule, TranslateService, TranslateStore } from '@ngx-translate/core';\nimport { MultiTranslateHttpLoader } from 'ngx-translate-multi-http-loader';\nimport { PepHttpService, PepFileService, PepNgxLibModule, PepAddonService, PepCustomizationService } from '@pepperi-addons/ngx-lib';\nimport { PepListModule } from '@pepperi-addons/ngx-lib/list';\nimport { PepperiTableComponent } from './pepperi-table.component';\n\nexport function createTranslateLoader(http: HttpClient, fileService: PepFileService, addonService: PepAddonService) {\n    const translationsPath: string = fileService.getAssetsTranslationsPath();\n    const translationsSuffix: string = fileService.getAssetsTranslationsSuffix();\n    const addonStaticFolder = addonService.getAddonStaticFolder();\n\n    return new MultiTranslateHttpLoader(http, [\n        {\n            prefix:\n                addonStaticFolder.length > 0\n                    ? addonStaticFolder + translationsPath\n                    : translationsPath,\n            suffix: translationsSuffix,\n        },\n        {\n            prefix:\n                addonStaticFolder.length > 0\n                    ? addonStaticFolder + \"assets/i18n/\"\n                    : \"/assets/i18n/\",\n            suffix: \".json\",\n        },\n    ]);\n}\n\n@NgModule({\n    declarations: [\n        PepperiTableComponent\n    ],\n    imports: [\n        CommonModule,\n        HttpClientModule,\n        PepNgxLibModule,\n        PepListModule\n        // TranslateModule.forChild({\n        //     loader: {\n        //         provide: TranslateLoader,\n        //         useFactory: createTranslateLoader,\n        //         deps: [HttpClient, PepFileService, PepAddonService]\n        //     }, isolate: false\n        // }),\n        //// Example for importing tree-shakeable @pepperi-addons/ngx-lib components to a module\n\n\n\n    ],\n    exports:[PepperiTableComponent, PepListModule],\n    providers: [\n        HttpClient,\n        TranslateStore,\n        PepHttpService,\n        PepAddonService,\n        PepFileService,\n        PepCustomizationService\n    ]\n})\nexport class PepperiTableModule {\n    constructor(\n        //   translate: TranslateService\n      ) {\n\n        // let userLang = 'en';\n        // translate.setDefaultLang(userLang);\n        // userLang = translate.getBrowserLang().split('-')[0]; // use navigator lang if available\n\n        // if (location.href.indexOf('userLang=en') > -1) {\n        //     userLang = 'en';\n        // }\n        // // the lang to use, if the lang isn't available, it will use the current loader to get them\n        // translate.use(userLang).subscribe((res: any) => {\n        //     // In here you can put the code you want. At this point the lang will be loaded\n        // });\n    }\n}\n","var map = {\n\t\"./af\": 6431,\n\t\"./af.js\": 6431,\n\t\"./ar\": 1286,\n\t\"./ar-dz\": 1616,\n\t\"./ar-dz.js\": 1616,\n\t\"./ar-kw\": 9759,\n\t\"./ar-kw.js\": 9759,\n\t\"./ar-ly\": 3160,\n\t\"./ar-ly.js\": 3160,\n\t\"./ar-ma\": 2551,\n\t\"./ar-ma.js\": 2551,\n\t\"./ar-sa\": 30,\n\t\"./ar-sa.js\": 30,\n\t\"./ar-tn\": 6962,\n\t\"./ar-tn.js\": 6962,\n\t\"./ar.js\": 1286,\n\t\"./az\": 5887,\n\t\"./az.js\": 5887,\n\t\"./be\": 4572,\n\t\"./be.js\": 4572,\n\t\"./bg\": 3276,\n\t\"./bg.js\": 3276,\n\t\"./bm\": 3344,\n\t\"./bm.js\": 3344,\n\t\"./bn\": 8985,\n\t\"./bn-bd\": 3990,\n\t\"./bn-bd.js\": 3990,\n\t\"./bn.js\": 8985,\n\t\"./bo\": 4391,\n\t\"./bo.js\": 4391,\n\t\"./br\": 6728,\n\t\"./br.js\": 6728,\n\t\"./bs\": 5536,\n\t\"./bs.js\": 5536,\n\t\"./ca\": 1043,\n\t\"./ca.js\": 1043,\n\t\"./cs\": 420,\n\t\"./cs.js\": 420,\n\t\"./cv\": 8251,\n\t\"./cv.js\": 8251,\n\t\"./cy\": 6771,\n\t\"./cy.js\": 6771,\n\t\"./da\": 7978,\n\t\"./da.js\": 7978,\n\t\"./de\": 6061,\n\t\"./de-at\": 5204,\n\t\"./de-at.js\": 5204,\n\t\"./de-ch\": 2653,\n\t\"./de-ch.js\": 2653,\n\t\"./de.js\": 6061,\n\t\"./dv\": 85,\n\t\"./dv.js\": 85,\n\t\"./el\": 8579,\n\t\"./el.js\": 8579,\n\t\"./en-au\": 5724,\n\t\"./en-au.js\": 5724,\n\t\"./en-ca\": 525,\n\t\"./en-ca.js\": 525,\n\t\"./en-gb\": 2847,\n\t\"./en-gb.js\": 2847,\n\t\"./en-ie\": 7216,\n\t\"./en-ie.js\": 7216,\n\t\"./en-il\": 9305,\n\t\"./en-il.js\": 9305,\n\t\"./en-in\": 3364,\n\t\"./en-in.js\": 3364,\n\t\"./en-nz\": 9130,\n\t\"./en-nz.js\": 9130,\n\t\"./en-sg\": 1161,\n\t\"./en-sg.js\": 1161,\n\t\"./eo\": 802,\n\t\"./eo.js\": 802,\n\t\"./es\": 328,\n\t\"./es-do\": 5551,\n\t\"./es-do.js\": 5551,\n\t\"./es-mx\": 5615,\n\t\"./es-mx.js\": 5615,\n\t\"./es-us\": 4790,\n\t\"./es-us.js\": 4790,\n\t\"./es.js\": 328,\n\t\"./et\": 6389,\n\t\"./et.js\": 6389,\n\t\"./eu\": 2961,\n\t\"./eu.js\": 2961,\n\t\"./fa\": 6151,\n\t\"./fa.js\": 6151,\n\t\"./fi\": 7997,\n\t\"./fi.js\": 7997,\n\t\"./fil\": 8898,\n\t\"./fil.js\": 8898,\n\t\"./fo\": 7779,\n\t\"./fo.js\": 7779,\n\t\"./fr\": 8174,\n\t\"./fr-ca\": 3287,\n\t\"./fr-ca.js\": 3287,\n\t\"./fr-ch\": 8867,\n\t\"./fr-ch.js\": 8867,\n\t\"./fr.js\": 8174,\n\t\"./fy\": 452,\n\t\"./fy.js\": 452,\n\t\"./ga\": 5014,\n\t\"./ga.js\": 5014,\n\t\"./gd\": 4127,\n\t\"./gd.js\": 4127,\n\t\"./gl\": 2124,\n\t\"./gl.js\": 2124,\n\t\"./gom-deva\": 6444,\n\t\"./gom-deva.js\": 6444,\n\t\"./gom-latn\": 7953,\n\t\"./gom-latn.js\": 7953,\n\t\"./gu\": 6604,\n\t\"./gu.js\": 6604,\n\t\"./he\": 1222,\n\t\"./he.js\": 1222,\n\t\"./hi\": 4235,\n\t\"./hi.js\": 4235,\n\t\"./hr\": 622,\n\t\"./hr.js\": 622,\n\t\"./hu\": 7735,\n\t\"./hu.js\": 7735,\n\t\"./hy-am\": 402,\n\t\"./hy-am.js\": 402,\n\t\"./id\": 9187,\n\t\"./id.js\": 9187,\n\t\"./is\": 536,\n\t\"./is.js\": 536,\n\t\"./it\": 5007,\n\t\"./it-ch\": 4667,\n\t\"./it-ch.js\": 4667,\n\t\"./it.js\": 5007,\n\t\"./ja\": 2093,\n\t\"./ja.js\": 2093,\n\t\"./jv\": 59,\n\t\"./jv.js\": 59,\n\t\"./ka\": 6870,\n\t\"./ka.js\": 6870,\n\t\"./kk\": 880,\n\t\"./kk.js\": 880,\n\t\"./km\": 1083,\n\t\"./km.js\": 1083,\n\t\"./kn\": 8785,\n\t\"./kn.js\": 8785,\n\t\"./ko\": 1721,\n\t\"./ko.js\": 1721,\n\t\"./ku\": 7851,\n\t\"./ku.js\": 7851,\n\t\"./ky\": 1727,\n\t\"./ky.js\": 1727,\n\t\"./lb\": 1670,\n\t\"./lb.js\": 1670,\n\t\"./lo\": 3002,\n\t\"./lo.js\": 3002,\n\t\"./lt\": 4035,\n\t\"./lt.js\": 4035,\n\t\"./lv\": 6927,\n\t\"./lv.js\": 6927,\n\t\"./me\": 5634,\n\t\"./me.js\": 5634,\n\t\"./mi\": 4173,\n\t\"./mi.js\": 4173,\n\t\"./mk\": 6320,\n\t\"./mk.js\": 6320,\n\t\"./ml\": 1705,\n\t\"./ml.js\": 1705,\n\t\"./mn\": 1062,\n\t\"./mn.js\": 1062,\n\t\"./mr\": 2805,\n\t\"./mr.js\": 2805,\n\t\"./ms\": 1341,\n\t\"./ms-my\": 9900,\n\t\"./ms-my.js\": 9900,\n\t\"./ms.js\": 1341,\n\t\"./mt\": 7734,\n\t\"./mt.js\": 7734,\n\t\"./my\": 9034,\n\t\"./my.js\": 9034,\n\t\"./nb\": 9324,\n\t\"./nb.js\": 9324,\n\t\"./ne\": 6495,\n\t\"./ne.js\": 6495,\n\t\"./nl\": 673,\n\t\"./nl-be\": 6272,\n\t\"./nl-be.js\": 6272,\n\t\"./nl.js\": 673,\n\t\"./nn\": 2486,\n\t\"./nn.js\": 2486,\n\t\"./oc-lnc\": 6219,\n\t\"./oc-lnc.js\": 6219,\n\t\"./pa-in\": 2829,\n\t\"./pa-in.js\": 2829,\n\t\"./pl\": 8444,\n\t\"./pl.js\": 8444,\n\t\"./pt\": 3170,\n\t\"./pt-br\": 6117,\n\t\"./pt-br.js\": 6117,\n\t\"./pt.js\": 3170,\n\t\"./ro\": 6587,\n\t\"./ro.js\": 6587,\n\t\"./ru\": 9264,\n\t\"./ru.js\": 9264,\n\t\"./sd\": 2305,\n\t\"./sd.js\": 2305,\n\t\"./se\": 5366,\n\t\"./se.js\": 5366,\n\t\"./si\": 3379,\n\t\"./si.js\": 3379,\n\t\"./sk\": 6143,\n\t\"./sk.js\": 6143,\n\t\"./sl\": 196,\n\t\"./sl.js\": 196,\n\t\"./sq\": 1082,\n\t\"./sq.js\": 1082,\n\t\"./sr\": 1621,\n\t\"./sr-cyrl\": 8963,\n\t\"./sr-cyrl.js\": 8963,\n\t\"./sr.js\": 1621,\n\t\"./ss\": 1404,\n\t\"./ss.js\": 1404,\n\t\"./sv\": 5685,\n\t\"./sv.js\": 5685,\n\t\"./sw\": 3872,\n\t\"./sw.js\": 3872,\n\t\"./ta\": 4106,\n\t\"./ta.js\": 4106,\n\t\"./te\": 2442,\n\t\"./te.js\": 2442,\n\t\"./tet\": 3692,\n\t\"./tet.js\": 3692,\n\t\"./tg\": 6361,\n\t\"./tg.js\": 6361,\n\t\"./th\": 1735,\n\t\"./th.js\": 1735,\n\t\"./tk\": 1568,\n\t\"./tk.js\": 1568,\n\t\"./tl-ph\": 6129,\n\t\"./tl-ph.js\": 6129,\n\t\"./tlh\": 3759,\n\t\"./tlh.js\": 3759,\n\t\"./tr\": 1644,\n\t\"./tr.js\": 1644,\n\t\"./tzl\": 875,\n\t\"./tzl.js\": 875,\n\t\"./tzm\": 6878,\n\t\"./tzm-latn\": 1041,\n\t\"./tzm-latn.js\": 1041,\n\t\"./tzm.js\": 6878,\n\t\"./ug-cn\": 4357,\n\t\"./ug-cn.js\": 4357,\n\t\"./uk\": 4810,\n\t\"./uk.js\": 4810,\n\t\"./ur\": 6794,\n\t\"./ur.js\": 6794,\n\t\"./uz\": 8966,\n\t\"./uz-latn\": 7959,\n\t\"./uz-latn.js\": 7959,\n\t\"./uz.js\": 8966,\n\t\"./vi\": 5386,\n\t\"./vi.js\": 5386,\n\t\"./x-pseudo\": 3156,\n\t\"./x-pseudo.js\": 3156,\n\t\"./yo\": 8028,\n\t\"./yo.js\": 8028,\n\t\"./zh-cn\": 9330,\n\t\"./zh-cn.js\": 9330,\n\t\"./zh-hk\": 9380,\n\t\"./zh-hk.js\": 9380,\n\t\"./zh-mo\": 874,\n\t\"./zh-mo.js\": 874,\n\t\"./zh-tw\": 6508,\n\t\"./zh-tw.js\": 6508\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;"],"sourceRoot":"webpack:///"}